(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{bdf8:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[t.loading?s("q-spinner",{staticClass:"absolute-center",attrs:{color:"green",size:"3em"}}):s("q-card",{staticClass:"q-mx-auto q-my-xl q-pa-xl",staticStyle:{"max-width":"600px","border-radius":"5px"}},[s("p",{staticClass:"text-subtitle2"},[t._v("Classroom Id: "+t._s(t.classDetails.id))]),s("h2",{staticClass:"text-bold"},[t._v(t._s(t.classDetails.name))]),s("h5",[t._v("Layout: "+t._s(t.classDetails.layout))]),s("h6",[t._v("Size: "+t._s(t.classDetails.size))]),s("p",{staticClass:"text-body1 q-mb-xl"},[t._v("Subjects: "+t._s(t.classDetails.subject)),t.classDetails.subject?t._e():s("span",[t._v("No Subjects Assigned ")])]),s("p",{staticClass:"text-subtitle1"},[s("u",[t._v("Assign/Reassign Subject")])]),s("q-select",{ref:"subjectadd",staticStyle:{width:"250px"},attrs:{outlined:"",options:t.subjects,"option-value":"id","option-label":"name",label:"Select a subject"},model:{value:t.addsubject,callback:function(e){t.addsubject=e},expression:"addsubject"}}),s("q-btn",{staticClass:"q-mt-sm q-mb-xl",attrs:{loading:t.loading1,color:"green",label:"Assign","no-caps":""},on:{click:t.addSubjects}}),s("q-card",{staticClass:"q-mt-xl"},[s("AddRemoveStudents",{attrs:{classId:t.id,classSubject:t.classDetails.subject}})],1)],1),s("q-dialog",{model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[s("q-card",{staticClass:"q-pa-xl text-red"},[t._v(t._s(t.errormsg))])],1)],1)},i=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.classSubject?s("div",{staticClass:"q-mt-xl"},[s("p",{staticClass:"text-subtitle1 text-bold"},[t._v("Manage Students")]),t._m(0),s("q-select",{ref:"studentadd",staticStyle:{width:"250px"},attrs:{outlined:"",options:t.students,"option-value":"id","option-label":"name",label:"Select a student"},model:{value:t.addstudent,callback:function(e){t.addstudent=e},expression:"addstudent"}}),s("q-btn",{staticClass:"q-mt-sm",attrs:{loading:t.loading3,color:"green",label:"Add","no-caps":""},on:{click:t.addStudents}}),t._m(1),s("q-select",{ref:"studentremove",staticStyle:{width:"250px"},attrs:{outlined:"",options:t.regs,"option-value":"id","option-label":"student",label:"Select a student ID"},model:{value:t.removestudent,callback:function(e){t.removestudent=e},expression:"removestudent"}}),s("q-btn",{staticClass:"q-mt-sm text-red",attrs:{outline:"",loading:t.loading4,label:"Remove","no-caps":""},on:{click:t.deleteStudents}}),s("q-dialog",{model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[s("q-card",{staticClass:"q-pa-xl text-red"},[t._v(t._s(t.errormsg))])],1)],1):s("div",{staticClass:"text-subtitle2"},[t._v("\n    Assign a subject to this class to add students.\n")])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"text-subtitle1"},[s("u",[t._v("Add Students")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"q-mt-xl text-subtitle1"},[s("u",[t._v("Remove Students")])])}],l={name:"AddRemoveStudents",props:{classId:String,classSubject:String},data(){return{id:0,loading3:!1,loading4:!1,students:[],regs:[],addstudent:null,removestudent:null,studId:0,error:!1,errormsg:""}},methods:{addStudents(){this.loading3=!0,this.$axios({method:"post",url:"https://hamon-interviewapi.herokuapp.com/registration/?api_key=AdB12",data:"student="+this.$refs.studentadd.value.id+"&subject="+this.classSubject}).then((t=>{console.log(t),this.$axios.get("https://hamon-interviewapi.herokuapp.com/registration?api_key=AdB12").then((t=>{this.regs=t.data.registrations})).catch((t=>{console.error(t)})),this.loading3=!1,this.addstudent=null,this.$q.notify({color:"green-5",textColor:"white",icon:"done",message:"Student with ID:"+this.$refs.studentadd.value.id+" has been added to this classroom"})})).catch((t=>{console.error(t),this.errormsg=t,this.loading3=!1,this.error=!0}))},deleteStudents(){this.loading4=!0,this.$axios.delete("https://hamon-interviewapi.herokuapp.com/registration/"+this.$refs.studentremove.value.id+"?api_key=AdB12").then((t=>{console.log(t),this.$axios.get("https://hamon-interviewapi.herokuapp.com/registration?api_key=AdB12").then((t=>{this.regs=t.data.registrations})).catch((t=>{console.error(t)})),this.loading4=!1,this.removestudent=null,this.$q.notify({color:"red-5",textColor:"white",icon:"delete",message:"Student with ID:"+this.$refs.studentremove.value.student+" has been removed from this classroom"})})).catch((t=>{console.error(t),this.errormsg=t,this.loading4=!1,this.error=!0}))}},created(){this.$axios.get("https://hamon-interviewapi.herokuapp.com/students?api_key=AdB12").then((t=>{this.students=t.data.students})).catch((t=>{console.error(t)})),this.$axios.get("https://hamon-interviewapi.herokuapp.com/registration?api_key=AdB12").then((t=>{this.regs=t.data.registrations})).catch((t=>{console.error(t)}))}},r=l,d=s("2877"),c=s("ddd8"),u=s("9c40"),h=s("24e8"),p=s("f09f"),m=s("eebe"),g=s.n(m),b=Object(d["a"])(r,o,n,!1,null,null,null),v=b.exports;g()(b,"components",{QSelect:c["a"],QBtn:u["a"],QDialog:h["a"],QCard:p["a"]});var x={name:"classroomdetails",components:{AddRemoveStudents:v},data(){return{id:0,loading:!0,loading1:!1,loading2:!1,classDetails:[],subjects:[],dialog:!1,addsubject:null,error:!1,errormsg:""}},methods:{addSubjects(){this.loading1=!0,this.$axios.patch("https://hamon-interviewapi.herokuapp.com/classrooms/"+this.id+"?api_key=AdB12","subject="+this.$refs.subjectadd.value.id).then((t=>{this.classDetails=t.data,this.loading1=!1,this.addsubject=null,this.$q.notify({color:"green-5",textColor:"white",icon:"done",message:"Subject"+this.$refs.subjectadd.value.id+" is assigned for this classroom"})})).catch((t=>{console.error(t),this.errormsg=t,this.loading1=!1,this.error=!0}))}},created(){this.id=this.$route.params.id,this.$axios.get("https://hamon-interviewapi.herokuapp.com/classrooms/"+this.id+"?api_key=AdB12").then((t=>{this.classDetails=t.data,this.loading=!1})).catch((t=>{console.error(t)})),this.$axios.get("https://hamon-interviewapi.herokuapp.com/subjects?api_key=AdB12").then((t=>{this.subjects=t.data.subjects})).catch((t=>{console.error(t)}))}},_=x,S=s("9989"),f=s("0d59"),j=Object(d["a"])(_,a,i,!1,null,null,null);e["default"]=j.exports;g()(j,"components",{QPage:S["a"],QSpinner:f["a"],QCard:p["a"],QSelect:c["a"],QBtn:u["a"],QDialog:h["a"]})}}]);